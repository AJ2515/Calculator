#:kivy 2.0.0
#: set edited_text ''
some:


<My_button@Button>:
	background_normal:"Buttons/blue-round-button2.png"
	background_down: "Buttons/round.png"
	border:0,0,0,0
	color: 0,0,0,1
	font_size: "30dp"
	text:"A"




<some>:
	id: somee
	orientation: 'vertical'
	padding: 20
	spacing: 10
	
	My_button:
		size_hint_y: .1
		on_press: entry.text = entry.text[:entry.cursor[0]] + self.text+ entry.text[entry.cursor[0]:]

	TextInput:
		focus: True
		cursor: 0,0
		on_text: root.textupdate(self)
		cursor_color: (0,0,1,1)
		#border: 30,30,30,30
		text_size: self.size
		halign: 'right'
		valign: 'top'
		id: entry
		text:""
		font_size:100
		background_color:1,0,0,1
		multiline: True
		auto_indent: True
		size_hint:1,.7
		on_text_validate: root.pp(self)
	
		
	BoxLayout:
		orientation: 'vertical'

		BoxLayout:
			My_button:
				text:"AC"
				on_press: entry.text =""
			My_button:
				text:"("
				on_press: entry.text = entry.text[:entry.cursor[0]] + self.text+ entry.text[entry.cursor[0]:]
				size_hint:0.5,1
			My_button:
				text:")"
				on_press: entry.text = entry.text[:entry.cursor[0]] + self.text+ entry.text[entry.cursor[0]:]
				size_hint:0.5,1
			My_button:
				text:"%"
				on_press: entry.text = entry.text[:entry.cursor[0]] + self.text+ entry.text[entry.cursor[0]:]
			My_button:
				text:"/"
				on_press: entry.text = entry.text[:entry.cursor[0]] + self.text+ entry.text[entry.cursor[0]:]

		BoxLayout:
			My_button:
				text:"7"
				on_press: entry.text = entry.text[:entry.cursor[0]] + self.text+ entry.text[entry.cursor[0]:]
			My_button:
				text:"8"
				on_press: entry.text = entry.text[:entry.cursor[0]] + self.text+ entry.text[entry.cursor[0]:]
			My_button:
				text:"9"
				on_press: entry.text = entry.text[:entry.cursor[0]] + self.text+ entry.text[entry.cursor[0]:]
			My_button:
				text:"*"
				on_press: entry.text = entry.text[:entry.cursor[0]] + self.text+ entry.text[entry.cursor[0]:]
				
		BoxLayout:
			My_button:
				text:"4"
				on_press: entry.text = entry.text[:entry.cursor[0]] + self.text+ entry.text[entry.cursor[0]:]
			My_button:
				text:"5"
				on_press: entry.text = entry.text[:entry.cursor[0]] + self.text+ entry.text[entry.cursor[0]:]
			My_button:
				text:"6"
				on_press: entry.text = entry.text[:entry.cursor[0]] + self.text+ entry.text[entry.cursor[0]:]
			My_button:
				text:"-"
				on_press: entry.text = entry.text[:entry.cursor[0]] + self.text+ entry.text[entry.cursor[0]:]
				
		BoxLayout:
			My_button:
				text:'1'
				on_press: entry.text = entry.text[:entry.cursor[0]] + self.text+ entry.text[entry.cursor[0]:]
			My_button:
				text:'2'
				on_press: entry.text = entry.text[:entry.cursor[0]] + self.text+ entry.text[entry.cursor[0]:]
			My_button:
				text:"3"
				on_press: entry.text = entry.text[:entry.cursor[0]] + self.text+ entry.text[entry.cursor[0]:]
			My_button:
				text:"+"
				on_press: entry.text = entry.text[:entry.cursor[0]] + self.text+ entry.text[entry.cursor[0]:]
				
		BoxLayout:
			My_button:
				text:"0"
				on_press: entry.text = entry.text[:entry.cursor[0]] + self.text+ entry.text[entry.cursor[0]:]
			My_button:
				text:"â€¢"
				#font_size:
				on_press: entry.text = entry.text[:entry.cursor[0]] + '.' + entry.text[entry.cursor[0]:]
			My_button:
				text:"<="
				on_press: entry.text = entry.text[:-1]
			My_button:
				text:"="
				font_size:100
				on_press: entry.text = str(root.my_eval(entry.text))
				#str(round(eval(entry.text),2))